stages:
   - work

test:
    stage: work
    image: golang:1.13
    script: 
     - go mod init feniks
     - go test .
    rules:
      - if: $CI_PIPELINE_SOURCE == "merge_request_event"
        changes:
          - '*.go'


build:
    stage: work
    image: docker:latest
    script:
     - docker build .

